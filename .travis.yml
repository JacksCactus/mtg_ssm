# Enables support for a docker container-based build
# which should provide faster startup times and beefier
# "machines". This is also required in order to use the
# cache configured below.
sudo: false

language: python

cache: pip

python:
  - 2.7
  - 3.4
  - 3.5

before_install:
  - pip install --upgrade pip pylint
  - pip install -r requirements.txt
  -
    if [[ $TRAVIS_PYTHON_VERSION == 2.7 ]]; then
      pip install -I pylint==1.4.4;
      pip install -r requirements2.txt;
    fi

script:
  - py.test --strict -r w tests/
  - pylint --rcfile=pylintrc *.py mtgcdb/
  - pylint --rcfile=pylintrc --disable=similarities tests/
